worker_processes  1;

events {
    worker_connections  1024;
}

http {
    rewrite_log on;
    include       mime.types;
    default_type  application/octet-stream;

    server {
        listen 8000;
        server_name localhost;
        
        include events_roots.conf;

        #error_page  404              /404.html;

        location / {
            root $public_root;
            index index.html index.htm;
        }

        # Test files
        location /event {
            root $test_root;
            rewrite ^/event/(.*)$ /event.json;
        }

        location /events {
            root $test_root;
            rewrite ^/events/?$ /events.json;
        }
    }
}
